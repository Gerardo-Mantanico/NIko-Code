CREATE DATABASE data_tienda;
USE data_tienda;

CREATE TABLE LOGIN (
 _code INT NOT NULL AUTO_INCREMENT,
 user_name VARCHAR(100) NOT NULL UNIQUE,
 _password VARCHAR(150) NOT NULL,
 _type VARCHAR(50) NOT NULL,
 state varchar(50) NOT NULL,
 PRIMARY KEY (_code)
);

INSERT INTO LOGIN VALUES(1002,'wicho','123456789');

CREATE TABLE USER_ADMIN(
_code INT NOT NULL,
_name VARCHAR(100) NOT NULL,
user_name VARCHAR(100) NOT NULL,
_password VARCHAR(150) NOT NULL,
FOREIGN KEY (_code) REFERENCES LOGIN(_code)
);

CREATE TABLE CATALOGUE(
_code INT NOT NULL AUTO_INCREMENT,
_name VARCHAR(100) NOT NULL,
cost DECIMAL(2) NOT NULL,
price DECIMAL(2) NOT NULL,
existence INT NOT NULL,
PRIMARY KEY (_code)
);

CREATE TABLE STORE(
_code INT NOT NULL AUTO_INCREMENT,
address VARCHAR(150) NOT NULL,
_type VARCHAR(100) NOT NULL,
PRIMARY KEY (_code)
);

CREATE TABLE USER_STORE(
_Code INT NOT NULL,
_name VARCHAR(100) NOT NULL,
store INT NOT NULL,
user_name VARCHAR(100) NOT NULL,
_password VARCHAR(150) NOT NULL,
email VARCHAR(100) NOT NULL,
FOREIGN KEY(_code) REFERENCES LOGIN(_code)
);

CREATE TABLE STORE_CATALOGUE(
code_catalogue INT NOT NULL,
code_store INT NOT NULL,
existences INT NOT NULL,
FOREIGN KEY(code_catalogue) REFERENCES CATALOGUE(_code),
FOREIGN KEY(code_store) REFERENCES STORE(_code)
); 

